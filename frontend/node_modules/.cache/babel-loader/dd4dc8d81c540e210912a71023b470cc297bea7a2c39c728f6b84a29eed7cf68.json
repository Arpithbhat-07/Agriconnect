{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{translations}from'../translations/translations';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const API_BASE='http://localhost:5000';function DiseaseDetection(_ref){let{language}=_ref;const[crop,setCrop]=useState('');const[symptoms,setSymptoms]=useState('');const[diseases,setDiseases]=useState([]);const[loading,setLoading]=useState(false);const t=translations[language];const detectDisease=async()=>{if(!symptoms.trim()){alert('Please describe the symptoms');return;}setLoading(true);try{const response=await axios.post(\"\".concat(API_BASE,\"/disease\"),{symptoms:symptoms,crop:crop});setDiseases(response.data.diseases);}catch(error){console.error('Error detecting disease:',error);alert('Error detecting disease. Please try again.');}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uD83D\\uDD2C \",t.diseaseDetection]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',marginBottom:'20px'},children:\"Identify crop diseases and get treatment recommendations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t.crop,\" (Optional)\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:crop,onChange:e=>setCrop(e.target.value),placeholder:\"e.g., Rice, Tomato, Wheat\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:t.symptoms}),/*#__PURE__*/_jsx(\"textarea\",{value:symptoms,onChange:e=>setSymptoms(e.target.value),placeholder:\"Describe symptoms: e.g., brown spots on leaves, yellowing, wilting\",rows:\"4\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:detectDisease,disabled:loading,children:loading?t.loading:t.detectDisease}),diseases.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Possible Diseases (\",diseases.length,\")\"]}),diseases.map((disease,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:language==='hi'?disease.name_hi:language==='kn'?disease.name_kn:disease.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDF3E Affected Crops:\"}),\" \",disease.crops.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83E\\uDDA0 Cause:\"}),\" \",disease.cause]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDD0D Symptoms:\"}),\" \",disease.symptoms.join(', ')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",style:{marginTop:'15px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDC8A Treatment:\"}),/*#__PURE__*/_jsx(\"br\",{}),language==='hi'?disease.treatment_hi:language==='kn'?disease.treatment_kn:disease.treatment]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info\",style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDEE1\\uFE0F Prevention:\"}),\" \",disease.prevention]})]},index))]}),!loading&&diseases.length===0&&symptoms&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning\",style:{marginTop:'20px'},children:\"No matching diseases found. Try describing different symptoms or check with an agricultural expert.\"})]});}export default DiseaseDetection;","map":{"version":3,"names":["React","useState","axios","translations","jsxs","_jsxs","jsx","_jsx","API_BASE","DiseaseDetection","_ref","language","crop","setCrop","symptoms","setSymptoms","diseases","setDiseases","loading","setLoading","t","detectDisease","trim","alert","response","post","concat","data","error","console","children","diseaseDetection","style","color","marginBottom","className","type","value","onChange","e","target","placeholder","rows","onClick","disabled","length","marginTop","map","disease","index","name_hi","name_kn","name","crops","join","cause","treatment_hi","treatment_kn","treatment","prevention"],"sources":["C:/Users/siyan/OneDrive/Desktop/agriconnect/frontend/src/components/DiseaseDetection.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { translations } from '../translations/translations';\r\n\r\nconst API_BASE = 'http://localhost:5000';\r\n\r\nfunction DiseaseDetection({ language }) {\r\n  const [crop, setCrop] = useState('');\r\n  const [symptoms, setSymptoms] = useState('');\r\n  const [diseases, setDiseases] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const t = translations[language];\r\n\r\n  const detectDisease = async () => {\r\n    if (!symptoms.trim()) {\r\n      alert('Please describe the symptoms');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.post(`${API_BASE}/disease`, {\r\n        symptoms: symptoms,\r\n        crop: crop\r\n      });\r\n      setDiseases(response.data.diseases);\r\n    } catch (error) {\r\n      console.error('Error detecting disease:', error);\r\n      alert('Error detecting disease. Please try again.');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>üî¨ {t.diseaseDetection}</h2>\r\n      <p style={{ color: '#666', marginBottom: '20px' }}>\r\n        Identify crop diseases and get treatment recommendations\r\n      </p>\r\n\r\n      <div className=\"form-group\">\r\n        <label>{t.crop} (Optional)</label>\r\n        <input\r\n          type=\"text\"\r\n          value={crop}\r\n          onChange={(e) => setCrop(e.target.value)}\r\n          placeholder=\"e.g., Rice, Tomato, Wheat\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>{t.symptoms}</label>\r\n        <textarea\r\n          value={symptoms}\r\n          onChange={(e) => setSymptoms(e.target.value)}\r\n          placeholder=\"Describe symptoms: e.g., brown spots on leaves, yellowing, wilting\"\r\n          rows=\"4\"\r\n        />\r\n      </div>\r\n\r\n      <button className=\"btn\" onClick={detectDisease} disabled={loading}>\r\n        {loading ? t.loading : t.detectDisease}\r\n      </button>\r\n\r\n      {diseases.length > 0 && (\r\n        <div style={{ marginTop: '20px' }}>\r\n          <h3>Possible Diseases ({diseases.length})</h3>\r\n          {diseases.map((disease, index) => (\r\n            <div key={index} className=\"card\">\r\n              <h3>\r\n                {language === 'hi' ? disease.name_hi : language === 'kn' ? disease.name_kn : disease.name}\r\n              </h3>\r\n              <p><strong>üåæ Affected Crops:</strong> {disease.crops.join(', ')}</p>\r\n              <p><strong>ü¶† Cause:</strong> {disease.cause}</p>\r\n              <p><strong>üîç Symptoms:</strong> {disease.symptoms.join(', ')}</p>\r\n              <div className=\"alert alert-success\" style={{ marginTop: '15px' }}>\r\n                <strong>üíä Treatment:</strong><br />\r\n                {language === 'hi' ? disease.treatment_hi : language === 'kn' ? disease.treatment_kn : disease.treatment}\r\n              </div>\r\n              <div className=\"alert alert-info\" style={{ marginTop: '10px' }}>\r\n                <strong>üõ°Ô∏è Prevention:</strong> {disease.prevention}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {!loading && diseases.length === 0 && symptoms && (\r\n        <div className=\"alert alert-warning\" style={{ marginTop: '20px' }}>\r\n          No matching diseases found. Try describing different symptoms or check with an agricultural expert.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DiseaseDetection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}