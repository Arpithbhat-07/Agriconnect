{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{translations}from'../translations/translations';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const API_BASE='http://localhost:5000';function Weather(_ref){let{language}=_ref;const[location,setLocation]=useState('Bangalore');const[weatherData,setWeatherData]=useState(null);const[loading,setLoading]=useState(false);const t=translations[language];const fetchWeather=async()=>{setLoading(true);try{const response=await axios.get(\"\".concat(API_BASE,\"/weather?location=\").concat(location));setWeatherData(response.data);}catch(error){console.error('Error fetching weather:',error);alert('Error fetching weather data. Please try again.');}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uD83C\\uDF24\\uFE0F \",t.weather]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:t.location}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:location,onChange:e=>setLocation(e.target.value),placeholder:t.enterCity})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:fetchWeather,disabled:loading,children:loading?t.loading:t.checkWeather}),weatherData&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[t.currentWeather,\" - \",weatherData.location]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83C\\uDF21\\uFE0F \",t.temperature,\":\"]}),\" \",weatherData.temperature,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83E\\uDD12 \",t.feelsLike,\":\"]}),\" \",weatherData.feels_like,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83D\\uDCA7 \",t.humidity,\":\"]}),\" \",weatherData.humidity,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83C\\uDF2C\\uFE0F \",t.windSpeed,\":\"]}),\" \",weatherData.wind_speed,\" m/s\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83C\\uDF27\\uFE0F \",t.rainfall,\":\"]}),\" \",weatherData.rainfall,\" mm\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83D\\uDCCA \",t.pressure,\":\"]}),\" \",weatherData.pressure,\" hPa\"]})]})]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'10px',fontSize:'18px'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t.condition,\":\"]}),\" \",weatherData.description]})]}),weatherData.alerts&&weatherData.alerts.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u26A0\\uFE0F \",t.weatherAlerts]}),weatherData.alerts.map((alert,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-\".concat(alert.severity==='high'?'danger':'warning'),children:[/*#__PURE__*/_jsxs(\"strong\",{children:[alert.type.toUpperCase(),\":\"]}),' ',language==='hi'?alert.message_hi:language==='kn'?alert.message_kn:alert.message]},index))]}),weatherData.forecast&&weatherData.forecast.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83D\\uDCC5 \",t.forecast24h]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:weatherData.forecast.slice(0,4).map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u23F0 \",t.time,\":\"]}),\" \",new Date(item.time).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83C\\uDF21\\uFE0F \",t.temp,\":\"]}),\" \",item.temp,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83C\\uDF27\\uFE0F \",t.rainChance,\":\"]}),\" \",item.rain_probability.toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t.condition,\":\"]}),\" \",item.description]})]},index))})]})]})]});}export default Weather;","map":{"version":3,"names":["React","useState","axios","translations","jsxs","_jsxs","jsx","_jsx","API_BASE","Weather","_ref","language","location","setLocation","weatherData","setWeatherData","loading","setLoading","t","fetchWeather","response","get","concat","data","error","console","alert","children","weather","className","type","value","onChange","e","target","placeholder","enterCity","onClick","disabled","checkWeather","style","marginTop","currentWeather","temperature","feelsLike","feels_like","humidity","windSpeed","wind_speed","rainfall","pressure","fontSize","condition","description","alerts","length","weatherAlerts","map","index","severity","toUpperCase","message_hi","message_kn","message","forecast","forecast24h","slice","item","time","Date","toLocaleString","temp","rainChance","rain_probability","toFixed"],"sources":["C:/Users/arpit/Documents/Agriconnect-master/frontend/src/components/Weather.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { translations } from '../translations/translations';\n\nconst API_BASE = 'http://localhost:5000';\n\nfunction Weather({ language }) {\n  const [location, setLocation] = useState('Bangalore');\n  const [weatherData, setWeatherData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const t = translations[language];\n\n  const fetchWeather = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${API_BASE}/weather?location=${location}`);\n      setWeatherData(response.data);\n    } catch (error) {\n      console.error('Error fetching weather:', error);\n      alert('Error fetching weather data. Please try again.');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div>\n      <h2>üå§Ô∏è {t.weather}</h2>\n      \n      <div className=\"form-group\">\n        <label>{t.location}</label>\n        <input\n          type=\"text\"\n          value={location}\n          onChange={(e) => setLocation(e.target.value)}\n          placeholder={t.enterCity}\n        />\n      </div>\n\n      <button className=\"btn\" onClick={fetchWeather} disabled={loading}>\n        {loading ? t.loading : t.checkWeather}\n      </button>\n\n      {weatherData && (\n        <div style={{ marginTop: '20px' }}>\n          <div className=\"card\">\n            <h3>{t.currentWeather} - {weatherData.location}</h3>\n            <div className=\"grid\">\n              <div>\n                <p><strong>üå°Ô∏è {t.temperature}:</strong> {weatherData.temperature}¬∞C</p>\n                <p><strong>ü§í {t.feelsLike}:</strong> {weatherData.feels_like}¬∞C</p>\n                <p><strong>üíß {t.humidity}:</strong> {weatherData.humidity}%</p>\n              </div>\n              <div>\n                <p><strong>üå¨Ô∏è {t.windSpeed}:</strong> {weatherData.wind_speed} m/s</p>\n                <p><strong>üåßÔ∏è {t.rainfall}:</strong> {weatherData.rainfall} mm</p>\n                <p><strong>üìä {t.pressure}:</strong> {weatherData.pressure} hPa</p>\n              </div>\n            </div>\n            <p style={{ marginTop: '10px', fontSize: '18px' }}>\n              <strong>{t.condition}:</strong> {weatherData.description}\n            </p>\n          </div>\n\n          {weatherData.alerts && weatherData.alerts.length > 0 && (\n            <div style={{ marginTop: '20px' }}>\n              <h3>‚ö†Ô∏è {t.weatherAlerts}</h3>\n              {weatherData.alerts.map((alert, index) => (\n                <div key={index} className={`alert alert-${alert.severity === 'high' ? 'danger' : 'warning'}`}>\n                  <strong>{alert.type.toUpperCase()}:</strong>{' '}\n                  {language === 'hi' ? alert.message_hi : language === 'kn' ? alert.message_kn : alert.message}\n                </div>\n              ))}\n            </div>\n          )}\n\n          {weatherData.forecast && weatherData.forecast.length > 0 && (\n            <div style={{ marginTop: '20px' }}>\n              <h3>üìÖ {t.forecast24h}</h3>\n              <div className=\"grid\">\n                {weatherData.forecast.slice(0, 4).map((item, index) => (\n                  <div key={index} className=\"card\">\n                    <p><strong>‚è∞ {t.time}:</strong> {new Date(item.time).toLocaleString()}</p>\n                    <p><strong>üå°Ô∏è {t.temp}:</strong> {item.temp}¬∞C</p>\n                    <p><strong>üåßÔ∏è {t.rainChance}:</strong> {item.rain_probability.toFixed(0)}%</p>\n                    <p><strong>{t.condition}:</strong> {item.description}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Weather;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}