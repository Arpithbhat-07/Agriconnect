{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{translations}from'../translations/translations';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const API_BASE='http://localhost:5000';function DiseaseDetection(_ref){let{language}=_ref;const[crop,setCrop]=useState('');const[symptoms,setSymptoms]=useState('');const[diseases,setDiseases]=useState([]);const[loading,setLoading]=useState(false);const t=translations[language];const detectDisease=async()=>{if(!symptoms.trim()){alert('Please describe the symptoms');return;}setLoading(true);try{const response=await axios.post(\"\".concat(API_BASE,\"/disease\"),{symptoms:symptoms,crop:crop});setDiseases(response.data.diseases);}catch(error){console.error('Error detecting disease:',error);alert('Error detecting disease. Please try again.');}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uD83D\\uDD2C \",t.diseaseDetection]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',marginBottom:'20px'},children:t.diseaseInfo}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[t.crop,\" (\",t.optional,\")\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:crop,onChange:e=>setCrop(e.target.value),placeholder:t.enterCropDisease})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:t.symptoms}),/*#__PURE__*/_jsx(\"textarea\",{value:symptoms,onChange:e=>setSymptoms(e.target.value),placeholder:t.describeSymptoms,rows:\"4\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:detectDisease,disabled:loading,children:loading?t.loading:t.detectDisease}),diseases.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[t.possibleDiseases,\" (\",diseases.length,\")\"]}),diseases.map((disease,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:language==='hi'?disease.name_hi:language==='kn'?disease.name_kn:disease.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83C\\uDF3E \",t.affectedCrops,\":\"]}),\" \",disease.crops.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83E\\uDDA0 \",t.cause,\":\"]}),\" \",disease.cause]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83D\\uDD0D \",t.symptoms,\":\"]}),\" \",disease.symptoms.join(', ')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",style:{marginTop:'15px'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83D\\uDC8A \",t.treatment,\":\"]}),/*#__PURE__*/_jsx(\"br\",{}),language==='hi'?disease.treatment_hi:language==='kn'?disease.treatment_kn:disease.treatment]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info\",style:{marginTop:'10px'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83D\\uDEE1\\uFE0F \",t.prevention,\":\"]}),\" \",disease.prevention]})]},index))]}),!loading&&diseases.length===0&&symptoms&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning\",style:{marginTop:'20px'},children:t.noDiseases})]});}export default DiseaseDetection;","map":{"version":3,"names":["React","useState","axios","translations","jsxs","_jsxs","jsx","_jsx","API_BASE","DiseaseDetection","_ref","language","crop","setCrop","symptoms","setSymptoms","diseases","setDiseases","loading","setLoading","t","detectDisease","trim","alert","response","post","concat","data","error","console","children","diseaseDetection","style","color","marginBottom","diseaseInfo","className","optional","type","value","onChange","e","target","placeholder","enterCropDisease","describeSymptoms","rows","onClick","disabled","length","marginTop","possibleDiseases","map","disease","index","name_hi","name_kn","name","affectedCrops","crops","join","cause","treatment","treatment_hi","treatment_kn","prevention","noDiseases"],"sources":["C:/Users/arpit/Documents/Agriconnect-master/frontend/src/components/DiseaseDetection.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { translations } from '../translations/translations';\n\nconst API_BASE = 'http://localhost:5000';\n\nfunction DiseaseDetection({ language }) {\n  const [crop, setCrop] = useState('');\n  const [symptoms, setSymptoms] = useState('');\n  const [diseases, setDiseases] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const t = translations[language];\n\n  const detectDisease = async () => {\n    if (!symptoms.trim()) {\n      alert('Please describe the symptoms');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_BASE}/disease`, {\n        symptoms: symptoms,\n        crop: crop\n      });\n      setDiseases(response.data.diseases);\n    } catch (error) {\n      console.error('Error detecting disease:', error);\n      alert('Error detecting disease. Please try again.');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div>\n      <h2>üî¨ {t.diseaseDetection}</h2>\n      <p style={{ color: '#666', marginBottom: '20px' }}>\n        {t.diseaseInfo}\n      </p>\n\n      <div className=\"form-group\">\n        <label>{t.crop} ({t.optional})</label>\n        <input\n          type=\"text\"\n          value={crop}\n          onChange={(e) => setCrop(e.target.value)}\n          placeholder={t.enterCropDisease}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>{t.symptoms}</label>\n        <textarea\n          value={symptoms}\n          onChange={(e) => setSymptoms(e.target.value)}\n          placeholder={t.describeSymptoms}\n          rows=\"4\"\n        />\n      </div>\n\n      <button className=\"btn\" onClick={detectDisease} disabled={loading}>\n        {loading ? t.loading : t.detectDisease}\n      </button>\n\n      {diseases.length > 0 && (\n        <div style={{ marginTop: '20px' }}>\n          <h3>{t.possibleDiseases} ({diseases.length})</h3>\n          {diseases.map((disease, index) => (\n            <div key={index} className=\"card\">\n              <h3>\n                {language === 'hi' ? disease.name_hi : language === 'kn' ? disease.name_kn : disease.name}\n              </h3>\n              <p><strong>üåæ {t.affectedCrops}:</strong> {disease.crops.join(', ')}</p>\n              <p><strong>ü¶† {t.cause}:</strong> {disease.cause}</p>\n              <p><strong>üîç {t.symptoms}:</strong> {disease.symptoms.join(', ')}</p>\n              <div className=\"alert alert-success\" style={{ marginTop: '15px' }}>\n                <strong>üíä {t.treatment}:</strong><br />\n                {language === 'hi' ? disease.treatment_hi : language === 'kn' ? disease.treatment_kn : disease.treatment}\n              </div>\n              <div className=\"alert alert-info\" style={{ marginTop: '10px' }}>\n                <strong>üõ°Ô∏è {t.prevention}:</strong> {disease.prevention}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {!loading && diseases.length === 0 && symptoms && (\n        <div className=\"alert alert-warning\" style={{ marginTop: '20px' }}>\n          {t.noDiseases}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default DiseaseDetection;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,YAAY,KAAQ,8BAA8B,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE5D,KAAM,CAAAC,QAAQ,CAAG,uBAAuB,CAExC,QAAS,CAAAC,gBAAgBA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACpC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAAmB,CAAC,CAAGjB,YAAY,CAACQ,QAAQ,CAAC,CAEhC,KAAM,CAAAU,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CAACP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAAE,CACpBC,KAAK,CAAC,8BAA8B,CAAC,CACrC,OACF,CAEAJ,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,IAAI,IAAAC,MAAA,CAAIlB,QAAQ,aAAY,CACvDM,QAAQ,CAAEA,QAAQ,CAClBF,IAAI,CAAEA,IACR,CAAC,CAAC,CACFK,WAAW,CAACO,QAAQ,CAACG,IAAI,CAACX,QAAQ,CAAC,CACrC,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDL,KAAK,CAAC,4CAA4C,CAAC,CACrD,CACAJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,mBACEd,KAAA,QAAAyB,QAAA,eACEzB,KAAA,OAAAyB,QAAA,EAAI,eAAG,CAACV,CAAC,CAACW,gBAAgB,EAAK,CAAC,cAChCxB,IAAA,MAAGyB,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAC/CV,CAAC,CAACe,WAAW,CACb,CAAC,cAEJ9B,KAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAN,QAAA,eACzBzB,KAAA,UAAAyB,QAAA,EAAQV,CAAC,CAACR,IAAI,CAAC,IAAE,CAACQ,CAAC,CAACiB,QAAQ,CAAC,GAAC,EAAO,CAAC,cACtC9B,IAAA,UACE+B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE3B,IAAK,CACZ4B,QAAQ,CAAGC,CAAC,EAAK5B,OAAO,CAAC4B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzCI,WAAW,CAAEvB,CAAC,CAACwB,gBAAiB,CACjC,CAAC,EACC,CAAC,cAENvC,KAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAN,QAAA,eACzBvB,IAAA,UAAAuB,QAAA,CAAQV,CAAC,CAACN,QAAQ,CAAQ,CAAC,cAC3BP,IAAA,aACEgC,KAAK,CAAEzB,QAAS,CAChB0B,QAAQ,CAAGC,CAAC,EAAK1B,WAAW,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7CI,WAAW,CAAEvB,CAAC,CAACyB,gBAAiB,CAChCC,IAAI,CAAC,GAAG,CACT,CAAC,EACC,CAAC,cAENvC,IAAA,WAAQ6B,SAAS,CAAC,KAAK,CAACW,OAAO,CAAE1B,aAAc,CAAC2B,QAAQ,CAAE9B,OAAQ,CAAAY,QAAA,CAC/DZ,OAAO,CAAGE,CAAC,CAACF,OAAO,CAAGE,CAAC,CAACC,aAAa,CAChC,CAAC,CAERL,QAAQ,CAACiC,MAAM,CAAG,CAAC,eAClB5C,KAAA,QAAK2B,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAO,CAAE,CAAApB,QAAA,eAChCzB,KAAA,OAAAyB,QAAA,EAAKV,CAAC,CAAC+B,gBAAgB,CAAC,IAAE,CAACnC,QAAQ,CAACiC,MAAM,CAAC,GAAC,EAAI,CAAC,CAChDjC,QAAQ,CAACoC,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAC3BjD,KAAA,QAAiB+B,SAAS,CAAC,MAAM,CAAAN,QAAA,eAC/BvB,IAAA,OAAAuB,QAAA,CACGnB,QAAQ,GAAK,IAAI,CAAG0C,OAAO,CAACE,OAAO,CAAG5C,QAAQ,GAAK,IAAI,CAAG0C,OAAO,CAACG,OAAO,CAAGH,OAAO,CAACI,IAAI,CACvF,CAAC,cACLpD,KAAA,MAAAyB,QAAA,eAAGzB,KAAA,WAAAyB,QAAA,EAAQ,eAAG,CAACV,CAAC,CAACsC,aAAa,CAAC,GAAC,EAAQ,CAAC,IAAC,CAACL,OAAO,CAACM,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC,EAAI,CAAC,cACxEvD,KAAA,MAAAyB,QAAA,eAAGzB,KAAA,WAAAyB,QAAA,EAAQ,eAAG,CAACV,CAAC,CAACyC,KAAK,CAAC,GAAC,EAAQ,CAAC,IAAC,CAACR,OAAO,CAACQ,KAAK,EAAI,CAAC,cACrDxD,KAAA,MAAAyB,QAAA,eAAGzB,KAAA,WAAAyB,QAAA,EAAQ,eAAG,CAACV,CAAC,CAACN,QAAQ,CAAC,GAAC,EAAQ,CAAC,IAAC,CAACuC,OAAO,CAACvC,QAAQ,CAAC8C,IAAI,CAAC,IAAI,CAAC,EAAI,CAAC,cACtEvD,KAAA,QAAK+B,SAAS,CAAC,qBAAqB,CAACJ,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAO,CAAE,CAAApB,QAAA,eAChEzB,KAAA,WAAAyB,QAAA,EAAQ,eAAG,CAACV,CAAC,CAAC0C,SAAS,CAAC,GAAC,EAAQ,CAAC,cAAAvD,IAAA,QAAK,CAAC,CACvCI,QAAQ,GAAK,IAAI,CAAG0C,OAAO,CAACU,YAAY,CAAGpD,QAAQ,GAAK,IAAI,CAAG0C,OAAO,CAACW,YAAY,CAAGX,OAAO,CAACS,SAAS,EACrG,CAAC,cACNzD,KAAA,QAAK+B,SAAS,CAAC,kBAAkB,CAACJ,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAO,CAAE,CAAApB,QAAA,eAC7DzB,KAAA,WAAAyB,QAAA,EAAQ,qBAAI,CAACV,CAAC,CAAC6C,UAAU,CAAC,GAAC,EAAQ,CAAC,IAAC,CAACZ,OAAO,CAACY,UAAU,EACrD,CAAC,GAbEX,KAcL,CACN,CAAC,EACC,CACN,CAEA,CAACpC,OAAO,EAAIF,QAAQ,CAACiC,MAAM,GAAK,CAAC,EAAInC,QAAQ,eAC5CP,IAAA,QAAK6B,SAAS,CAAC,qBAAqB,CAACJ,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAO,CAAE,CAAApB,QAAA,CAC/DV,CAAC,CAAC8C,UAAU,CACV,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAzD,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}