{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{translations}from'../translations/translations';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const API_BASE='http://localhost:5000';function Weather(_ref){let{language}=_ref;const[location,setLocation]=useState('Bangalore');const[weatherData,setWeatherData]=useState(null);const[loading,setLoading]=useState(false);const t=translations[language];const fetchWeather=async()=>{setLoading(true);try{const response=await axios.get(\"\".concat(API_BASE,\"/weather?location=\").concat(location));setWeatherData(response.data);}catch(error){console.error('Error fetching weather:',error);alert('Error fetching weather data. Please try again.');}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uD83C\\uDF24\\uFE0F \",t.weather]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:t.location}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:location,onChange:e=>setLocation(e.target.value),placeholder:\"Enter city name\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:fetchWeather,disabled:loading,children:loading?t.loading:t.checkWeather}),weatherData&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Current Weather - \",weatherData.location]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDF21\\uFE0F Temperature:\"}),\" \",weatherData.temperature,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83E\\uDD12 Feels Like:\"}),\" \",weatherData.feels_like,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCA7 Humidity:\"}),\" \",weatherData.humidity,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDF2C\\uFE0F Wind Speed:\"}),\" \",weatherData.wind_speed,\" m/s\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDF27\\uFE0F Rainfall:\"}),\" \",weatherData.rainfall,\" mm\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCCA Pressure:\"}),\" \",weatherData.pressure,\" hPa\"]})]})]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'10px',fontSize:'18px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Condition:\"}),\" \",weatherData.description]})]}),weatherData.alerts&&weatherData.alerts.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A0\\uFE0F Weather Alerts\"}),weatherData.alerts.map((alert,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-\".concat(alert.severity==='high'?'danger':'warning'),children:[/*#__PURE__*/_jsxs(\"strong\",{children:[alert.type.toUpperCase(),\":\"]}),' ',language==='hi'?alert.message_hi:language==='kn'?alert.message_kn:alert.message]},index))]}),weatherData.forecast&&weatherData.forecast.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCC5 24-Hour Forecast\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:weatherData.forecast.slice(0,4).map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u23F0 Time:\"}),\" \",new Date(item.time).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDF21\\uFE0F Temp:\"}),\" \",item.temp,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDF27\\uFE0F Rain Chance:\"}),\" \",item.rain_probability.toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Condition:\"}),\" \",item.description]})]},index))})]})]})]});}export default Weather;","map":{"version":3,"names":["React","useState","axios","translations","jsxs","_jsxs","jsx","_jsx","API_BASE","Weather","_ref","language","location","setLocation","weatherData","setWeatherData","loading","setLoading","t","fetchWeather","response","get","concat","data","error","console","alert","children","weather","className","type","value","onChange","e","target","placeholder","onClick","disabled","checkWeather","style","marginTop","temperature","feels_like","humidity","wind_speed","rainfall","pressure","fontSize","description","alerts","length","map","index","severity","toUpperCase","message_hi","message_kn","message","forecast","slice","item","Date","time","toLocaleString","temp","rain_probability","toFixed"],"sources":["C:/Users/siyan/OneDrive/Desktop/agriconnect/frontend/src/components/Weather.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { translations } from '../translations/translations';\r\n\r\nconst API_BASE = 'http://localhost:5000';\r\n\r\nfunction Weather({ language }) {\r\n  const [location, setLocation] = useState('Bangalore');\r\n  const [weatherData, setWeatherData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const t = translations[language];\r\n\r\n  const fetchWeather = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(`${API_BASE}/weather?location=${location}`);\r\n      setWeatherData(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching weather:', error);\r\n      alert('Error fetching weather data. Please try again.');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>üå§Ô∏è {t.weather}</h2>\r\n      \r\n      <div className=\"form-group\">\r\n        <label>{t.location}</label>\r\n        <input\r\n          type=\"text\"\r\n          value={location}\r\n          onChange={(e) => setLocation(e.target.value)}\r\n          placeholder=\"Enter city name\"\r\n        />\r\n      </div>\r\n\r\n      <button className=\"btn\" onClick={fetchWeather} disabled={loading}>\r\n        {loading ? t.loading : t.checkWeather}\r\n      </button>\r\n\r\n      {weatherData && (\r\n        <div style={{ marginTop: '20px' }}>\r\n          <div className=\"card\">\r\n            <h3>Current Weather - {weatherData.location}</h3>\r\n            <div className=\"grid\">\r\n              <div>\r\n                <p><strong>üå°Ô∏è Temperature:</strong> {weatherData.temperature}¬∞C</p>\r\n                <p><strong>ü§í Feels Like:</strong> {weatherData.feels_like}¬∞C</p>\r\n                <p><strong>üíß Humidity:</strong> {weatherData.humidity}%</p>\r\n              </div>\r\n              <div>\r\n                <p><strong>üå¨Ô∏è Wind Speed:</strong> {weatherData.wind_speed} m/s</p>\r\n                <p><strong>üåßÔ∏è Rainfall:</strong> {weatherData.rainfall} mm</p>\r\n                <p><strong>üìä Pressure:</strong> {weatherData.pressure} hPa</p>\r\n              </div>\r\n            </div>\r\n            <p style={{ marginTop: '10px', fontSize: '18px' }}>\r\n              <strong>Condition:</strong> {weatherData.description}\r\n            </p>\r\n          </div>\r\n\r\n          {weatherData.alerts && weatherData.alerts.length > 0 && (\r\n            <div style={{ marginTop: '20px' }}>\r\n              <h3>‚ö†Ô∏è Weather Alerts</h3>\r\n              {weatherData.alerts.map((alert, index) => (\r\n                <div key={index} className={`alert alert-${alert.severity === 'high' ? 'danger' : 'warning'}`}>\r\n                  <strong>{alert.type.toUpperCase()}:</strong>{' '}\r\n                  {language === 'hi' ? alert.message_hi : language === 'kn' ? alert.message_kn : alert.message}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {weatherData.forecast && weatherData.forecast.length > 0 && (\r\n            <div style={{ marginTop: '20px' }}>\r\n              <h3>üìÖ 24-Hour Forecast</h3>\r\n              <div className=\"grid\">\r\n                {weatherData.forecast.slice(0, 4).map((item, index) => (\r\n                  <div key={index} className=\"card\">\r\n                    <p><strong>‚è∞ Time:</strong> {new Date(item.time).toLocaleString()}</p>\r\n                    <p><strong>üå°Ô∏è Temp:</strong> {item.temp}¬∞C</p>\r\n                    <p><strong>üåßÔ∏è Rain Chance:</strong> {item.rain_probability.toFixed(0)}%</p>\r\n                    <p><strong>Condition:</strong> {item.description}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Weather;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}